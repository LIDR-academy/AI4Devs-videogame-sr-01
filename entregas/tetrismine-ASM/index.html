<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>TetrisMine</title>

  <!-- Favicon ──► icono de la mina en la pestaña -->
  <link rel="icon" type="image/png" href="assets/mine.png" sizes="32x32">

  <!-- Arcade pixel font & external CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <!-- Redirect phone users to mobile UI automatically -->
  <script>
    (function(){
      const onMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) || window.innerWidth <= 480;
      const alreadyMobilePath = location.pathname.startsWith('/mobile');
      const disableParam = /[?&]desktop=1/.test(location.search);
      if(onMobile && !alreadyMobilePath && !disableParam){
        location.replace('/mobile/');
      }
    })();
  </script>
</head>

<body>
  <!-- Welcome Screen overlay -->
  <div id="welcomeScreen">
    <img id="welcomeLogo" src="assets/logo_tetrismine.png" alt="TetrisMine logo">
    <input id="playerName" type="text" maxlength="12" placeholder="YOUR NAME" aria-label="Player name" />
    <div class="startButtons">
      <button id="startEasyBtn"  disabled class="arcadeBtn" aria-label="Start Easy Mode">EASY MODE</button>
      <button id="startHardBtn"  disabled class="arcadeBtn" aria-label="Start Hardcore Mode">HARDCORE MODE</button>
    </div>

    <h3>TOP 5 EASY</h3>
    <ol id="leaderboardEasy" class="leaderboard"></ol>
    <h3>TOP 5 HARDCORE</h3>
    <ol id="leaderboardHard" class="leaderboard"></ol>
    <button id="shareBtn" class="share-button" aria-label="Share this game">SHARE</button>
  </div>

  <div id="gameUI" class="hidden">
    <!-- TetrisMine logo -->
    <img id="logo" src="assets/logo_tetrismine.png" alt="TetrisMine logo">

    <div id="gameContainer">
      <div id="board"></div>

      <div id="sidePanel">
        <p id="modeLabel"></p>
        <p id="nextLabel"></p>
        <canvas id="nextCanvas" width="60" height="60"></canvas>

        <p><span id="topLabel"></span><span id="topScore">100</span></p>
        <p><span id="scoreLabel"></span><span id="score">100</span></p>
        <button id="discard-btn" class="arcadeBtn" aria-label="Discard current piece"></button>
      </div>
    </div>

    <div id="game-over"></div>
  </div>

  <!-- Carga de librerías auxiliares (no módulo) -->
  <script src="./modal.js"></script>
  <script src="./messages.js"></script>
  <script src="./leaderboard.js"></script>
  <script src="./ui.js"></script>

  <!-- Carga del juego (módulo) -->
  <script type="module" src="./main.js"></script>

</body>
</html> 